2025-10-20T12:10:00.092+02:00  INFO 62980 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 62980 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:10:00.094+02:00  INFO 62980 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:10:00.600+02:00  INFO 62980 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:10:00.620+02:00  INFO 62980 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2025-10-20T12:10:00.783+02:00  INFO 62980 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:10:00.790+02:00  INFO 62980 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:10:00.790+02:00  INFO 62980 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:10:00.808+02:00  INFO 62980 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:10:00.808+02:00  INFO 62980 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 681 ms
2025-10-20T12:10:00.871+02:00  INFO 62980 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:10:00.958+02:00  INFO 62980 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:441eb890-f9d8-4921-a67a-80722fb5d5d9 user=SA
2025-10-20T12:10:00.959+02:00  INFO 62980 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:10:00.977+02:00  INFO 62980 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:10:01.003+02:00  INFO 62980 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:10:01.018+02:00  INFO 62980 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:10:01.131+02:00  INFO 62980 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:10:01.166+02:00  INFO 62980 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:10:01.491+02:00  INFO 62980 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:10:01.496+02:00 DEBUG 62980 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:10:01.499+02:00 DEBUG 62980 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, jmbg integer unique, id bigint generated by default as identity, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:10:01.504+02:00  INFO 62980 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:10:01.630+02:00  WARN 62980 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:10:01.665+02:00 DEBUG 62980 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:10:01.699+02:00 DEBUG 62980 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:10:01.710+02:00 DEBUG 62980 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:10:01.734+02:00 DEBUG 62980 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:10:01.792+02:00  INFO 62980 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:10:01.797+02:00  INFO 62980 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 2.208 seconds (process running for 2.555)
2025-10-20T12:10:48.638+02:00  INFO 62980 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:10:48.643+02:00  INFO 62980 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:10:48.649+02:00  INFO 62980 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:10:48.650+02:00 DEBUG 62980 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:10:48.654+02:00  INFO 62980 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:10:48.655+02:00  INFO 62980 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:10:50.323+02:00  INFO 63003 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63003 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:10:50.324+02:00  INFO 63003 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:10:50.573+02:00  INFO 63003 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:10:50.593+02:00  INFO 63003 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2025-10-20T12:10:50.740+02:00  INFO 63003 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:10:50.746+02:00  INFO 63003 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:10:50.746+02:00  INFO 63003 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:10:50.762+02:00  INFO 63003 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:10:50.762+02:00  INFO 63003 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 414 ms
2025-10-20T12:10:50.812+02:00  INFO 63003 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:10:50.891+02:00  INFO 63003 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:d5c544ad-96c8-4bb2-b384-380cc9594779 user=SA
2025-10-20T12:10:50.891+02:00  INFO 63003 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:10:50.907+02:00  INFO 63003 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:10:50.926+02:00  INFO 63003 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:10:50.937+02:00  INFO 63003 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:10:51.032+02:00  INFO 63003 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:10:51.067+02:00  INFO 63003 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:10:51.359+02:00  INFO 63003 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:10:51.364+02:00 DEBUG 63003 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:10:51.366+02:00 DEBUG 63003 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, jmbg integer unique, id bigint generated by default as identity, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:10:51.371+02:00  INFO 63003 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:10:51.495+02:00  WARN 63003 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:10:51.528+02:00 DEBUG 63003 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:10:51.559+02:00 DEBUG 63003 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:10:51.569+02:00 DEBUG 63003 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:10:51.591+02:00 DEBUG 63003 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:10:51.641+02:00  INFO 63003 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:10:51.645+02:00  INFO 63003 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.527 seconds (process running for 1.825)
2025-10-20T12:10:55.855+02:00  INFO 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:10:55.855+02:00  INFO 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:10:55.855+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:10:55.855+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:10:55.855+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:10:55.856+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1ecd09d5
2025-10-20T12:10:55.857+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@71c91121
2025-10-20T12:10:55.857+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:10:55.857+02:00  INFO 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-20T12:10:55.862+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:10:55.868+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:10:55.915+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:10:55.941+02:00  INFO 63003 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.validation.JmbgValidator         : Birth date: 110399
2025-10-20T12:10:55.943+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:10:55.951+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:10:55.953+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:10:55.943580, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:10:55.957+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:10:55.957+02:00 DEBUG 63003 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:12:15.407+02:00  INFO 63003 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:12:15.410+02:00  INFO 63003 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:12:15.415+02:00  INFO 63003 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:12:15.417+02:00 DEBUG 63003 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:12:15.423+02:00  INFO 63003 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:12:15.425+02:00  INFO 63003 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:12:17.772+02:00  INFO 63025 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63025 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:12:17.773+02:00  INFO 63025 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:12:18.038+02:00  INFO 63025 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:12:18.061+02:00  INFO 63025 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:12:18.227+02:00  INFO 63025 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:12:18.239+02:00  INFO 63025 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:12:18.239+02:00  INFO 63025 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:12:18.257+02:00  INFO 63025 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:12:18.257+02:00  INFO 63025 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 467 ms
2025-10-20T12:12:18.311+02:00  INFO 63025 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:12:18.390+02:00  INFO 63025 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:58b1ef8d-b9b6-46d5-a26b-5cf94029e35f user=SA
2025-10-20T12:12:18.391+02:00  INFO 63025 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:12:18.407+02:00  INFO 63025 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:12:18.430+02:00  INFO 63025 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:12:18.442+02:00  INFO 63025 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:12:18.552+02:00  INFO 63025 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:12:18.588+02:00  INFO 63025 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:12:18.929+02:00  INFO 63025 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:12:18.935+02:00 DEBUG 63025 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:12:18.938+02:00 DEBUG 63025 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, jmbg integer unique, id bigint generated by default as identity, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:12:18.945+02:00  INFO 63025 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:12:19.082+02:00  WARN 63025 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:12:19.120+02:00 DEBUG 63025 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:12:19.158+02:00 DEBUG 63025 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:12:19.170+02:00 DEBUG 63025 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:12:19.193+02:00 DEBUG 63025 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:12:19.244+02:00  INFO 63025 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:12:19.249+02:00  INFO 63025 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.679 seconds (process running for 3.064)
2025-10-20T12:12:21.648+02:00  INFO 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:12:21.649+02:00  INFO 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:12:21.649+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:12:21.649+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:12:21.650+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:12:21.654+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@14af57c3
2025-10-20T12:12:21.654+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@30d944d8
2025-10-20T12:12:21.654+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:12:21.655+02:00  INFO 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-10-20T12:12:21.659+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:12:21.665+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:12:21.721+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:13:04.437+02:00  INFO 63025 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.validation.JmbgValidator         : Birth date: 110399
2025-10-20T12:13:14.845+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:13:14.878+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:13:14.882+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:13:14.857305, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:13:14.890+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:13:14.891+02:00 DEBUG 63025 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:13:26.721+02:00  INFO 63025 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:13:26.728+02:00  INFO 63025 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:13:26.734+02:00  INFO 63025 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:13:26.734+02:00 DEBUG 63025 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:13:26.737+02:00  INFO 63025 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:13:26.738+02:00  INFO 63025 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:13:28.669+02:00  INFO 63046 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63046 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:13:28.669+02:00  INFO 63046 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:13:28.925+02:00  INFO 63046 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:13:28.948+02:00  INFO 63046 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:13:29.118+02:00  INFO 63046 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:13:29.130+02:00  INFO 63046 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:13:29.130+02:00  INFO 63046 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:13:29.155+02:00  INFO 63046 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:13:29.155+02:00  INFO 63046 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 470 ms
2025-10-20T12:13:29.208+02:00  INFO 63046 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:13:29.283+02:00  INFO 63046 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:2f75c5f8-ffd9-4a2c-9aca-4d79215bef86 user=SA
2025-10-20T12:13:29.284+02:00  INFO 63046 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:13:29.303+02:00  INFO 63046 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:13:29.324+02:00  INFO 63046 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:13:29.337+02:00  INFO 63046 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:13:29.450+02:00  INFO 63046 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:13:29.483+02:00  INFO 63046 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:13:29.826+02:00  INFO 63046 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:13:29.832+02:00 DEBUG 63046 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:13:29.835+02:00 DEBUG 63046 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, jmbg integer unique, id bigint generated by default as identity, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:13:29.841+02:00  INFO 63046 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:13:29.978+02:00  WARN 63046 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:13:30.014+02:00 DEBUG 63046 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:13:30.052+02:00 DEBUG 63046 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:13:30.064+02:00 DEBUG 63046 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:13:30.088+02:00 DEBUG 63046 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:13:30.138+02:00  INFO 63046 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:13:30.143+02:00  INFO 63046 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.655 seconds (process running for 2.192)
2025-10-20T12:13:33.845+02:00  INFO 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:13:33.845+02:00  INFO 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:13:33.845+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:13:33.845+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:13:33.845+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:13:33.846+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@344acc03
2025-10-20T12:13:33.846+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@36570936
2025-10-20T12:13:33.846+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:13:33.846+02:00  INFO 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T12:13:33.851+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:13:33.857+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:13:33.909+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:13:44.222+02:00  INFO 63046 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:14:53.993+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:14:54.024+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:14:54.028+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:14:53.997392, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:14:54.037+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:14:54.038+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:15:46.321+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:15:46.324+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:15:46.331+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:15:51.092+02:00  INFO 63046 --- [ProductManagement] [http-nio-8080-exec-4] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:15:59.026+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:15:59.029+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:15:59.030+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:15:59.027977, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:15:59.033+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:15:59.034+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:16:22.317+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:16:22.322+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:16:22.339+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:16:22.341+02:00  INFO 63046 --- [ProductManagement] [http-nio-8080-exec-5] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:16:22.342+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:16:22.343+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:16:22.343+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:16:22.343013, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:16:22.344+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:16:22.345+02:00 DEBUG 63046 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:17:52.051+02:00  INFO 63046 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:17:52.060+02:00  INFO 63046 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:17:52.063+02:00  INFO 63046 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:17:52.066+02:00 DEBUG 63046 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:17:52.071+02:00  INFO 63046 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:17:52.073+02:00  INFO 63046 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:17:54.316+02:00  INFO 63104 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63104 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:17:54.317+02:00  INFO 63104 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:17:54.585+02:00  INFO 63104 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:17:54.608+02:00  INFO 63104 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:17:54.798+02:00  INFO 63104 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:17:54.805+02:00  INFO 63104 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:17:54.805+02:00  INFO 63104 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:17:54.822+02:00  INFO 63104 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:17:54.822+02:00  INFO 63104 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 490 ms
2025-10-20T12:17:54.873+02:00  INFO 63104 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:17:54.955+02:00  INFO 63104 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:e43348b2-b77c-4ecb-9990-36165f121cbc user=SA
2025-10-20T12:17:54.956+02:00  INFO 63104 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:17:54.974+02:00  INFO 63104 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:17:55.002+02:00  INFO 63104 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:17:55.020+02:00  INFO 63104 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:17:55.143+02:00  INFO 63104 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:17:55.180+02:00  INFO 63104 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:17:55.527+02:00  INFO 63104 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:17:55.533+02:00 DEBUG 63104 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:17:55.537+02:00 DEBUG 63104 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, jmbg integer unique, id bigint generated by default as identity, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:17:55.542+02:00  INFO 63104 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:17:55.685+02:00  WARN 63104 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:17:55.723+02:00 DEBUG 63104 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:17:55.764+02:00 DEBUG 63104 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:17:55.775+02:00 DEBUG 63104 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:17:55.797+02:00 DEBUG 63104 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:17:55.849+02:00  INFO 63104 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:17:55.854+02:00  INFO 63104 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.725 seconds (process running for 2.394)
2025-10-20T12:17:58.682+02:00  INFO 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:17:58.683+02:00  INFO 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:17:58.683+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:17:58.683+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:17:58.683+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:17:58.688+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@113e6e06
2025-10-20T12:17:58.689+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3fe21d0e
2025-10-20T12:17:58.689+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:17:58.689+02:00  INFO 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-10-20T12:17:58.694+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:17:58.700+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:17:58.748+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:17:58.782+02:00  INFO 63104 --- [ProductManagement] [http-nio-8080-exec-1] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:17:58.783+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:17:58.792+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:17:58.794+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:17:58.784136, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:17:58.798+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:17:58.799+02:00 DEBUG 63104 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:18:07.102+02:00  INFO 63104 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:18:07.109+02:00  INFO 63104 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:18:07.112+02:00  INFO 63104 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:18:07.113+02:00 DEBUG 63104 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:18:07.115+02:00  INFO 63104 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:18:07.116+02:00  INFO 63104 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:18:08.963+02:00  INFO 63122 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63122 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:18:08.963+02:00  INFO 63122 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:18:09.210+02:00  INFO 63122 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:18:09.233+02:00  INFO 63122 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:18:09.400+02:00  INFO 63122 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:18:09.406+02:00  INFO 63122 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:18:09.406+02:00  INFO 63122 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:18:09.434+02:00  INFO 63122 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:18:09.434+02:00  INFO 63122 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 456 ms
2025-10-20T12:18:09.492+02:00  INFO 63122 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:18:09.570+02:00  INFO 63122 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:9ab4521e-1972-4765-a565-2f465ab8e338 user=SA
2025-10-20T12:18:09.571+02:00  INFO 63122 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:18:09.589+02:00  INFO 63122 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:18:09.610+02:00  INFO 63122 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:18:09.623+02:00  INFO 63122 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:18:09.737+02:00  INFO 63122 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:18:09.773+02:00  INFO 63122 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:18:10.116+02:00  INFO 63122 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:18:10.121+02:00 DEBUG 63122 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:18:10.124+02:00 DEBUG 63122 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, jmbg integer unique, id bigint generated by default as identity, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:18:10.130+02:00  INFO 63122 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:18:10.271+02:00  WARN 63122 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:18:10.308+02:00 DEBUG 63122 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:18:10.350+02:00 DEBUG 63122 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:18:10.362+02:00 DEBUG 63122 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:18:10.387+02:00 DEBUG 63122 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:18:10.443+02:00  INFO 63122 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:18:10.448+02:00  INFO 63122 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.657 seconds (process running for 2.186)
2025-10-20T12:18:12.893+02:00  INFO 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:18:12.893+02:00  INFO 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:18:12.893+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:18:12.893+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:18:12.894+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:18:12.894+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@344acc03
2025-10-20T12:18:12.894+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@36570936
2025-10-20T12:18:12.894+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:18:12.895+02:00  INFO 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T12:18:12.898+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:18:12.905+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:18:12.947+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:18:12.974+02:00  INFO 63122 --- [ProductManagement] [http-nio-8080-exec-1] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:18:12.975+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:18:12.985+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:18:12.987+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:18:12.976226, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:18:12.992+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:18:12.992+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:21:32.051+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:21:32.054+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:21:32.063+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:21:32.065+02:00  INFO 63122 --- [ProductManagement] [http-nio-8080-exec-4] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:21:32.067+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:21:32.068+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:21:32.069+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:21:32.068247, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:21:32.070+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:21:32.070+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:21:41.029+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:21:41.032+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:21:41.036+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:21:41.038+02:00  INFO 63122 --- [ProductManagement] [http-nio-8080-exec-5] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:21:41.040+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:21:41.041+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:21:41.041+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:21:41.040571, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:21:41.042+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:21:41.043+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:23:23.173+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:23:23.177+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:23:23.182+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:23:23.184+02:00  INFO 63122 --- [ProductManagement] [http-nio-8080-exec-8] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:23:40.313+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:23:40.316+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:23:40.317+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:23:40.315578, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:23:40.326+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:23:40.328+02:00 DEBUG 63122 --- [ProductManagement] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:24:12.391+02:00  INFO 63122 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:24:12.399+02:00  INFO 63122 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:24:12.405+02:00  INFO 63122 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:24:12.406+02:00 DEBUG 63122 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:24:12.409+02:00  INFO 63122 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:24:12.410+02:00  INFO 63122 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:24:15.343+02:00  INFO 63245 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63245 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:24:15.344+02:00  INFO 63245 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:24:15.615+02:00  INFO 63245 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:24:15.638+02:00  INFO 63245 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:24:15.815+02:00  INFO 63245 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:24:15.822+02:00  INFO 63245 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:24:15.823+02:00  INFO 63245 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:24:15.847+02:00  INFO 63245 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:24:15.847+02:00  INFO 63245 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 486 ms
2025-10-20T12:24:15.899+02:00  INFO 63245 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:24:15.981+02:00  INFO 63245 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:c289aaf9-5a2b-4471-a2c3-1bd26924389b user=SA
2025-10-20T12:24:15.982+02:00  INFO 63245 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:24:16.003+02:00  INFO 63245 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:24:16.031+02:00  INFO 63245 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:24:16.047+02:00  INFO 63245 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:24:16.167+02:00  INFO 63245 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:24:16.204+02:00  INFO 63245 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:24:16.555+02:00  INFO 63245 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:24:16.561+02:00 DEBUG 63245 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:24:16.565+02:00 DEBUG 63245 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, jmbg integer unique, id bigint generated by default as identity, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:24:16.571+02:00  INFO 63245 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:24:16.718+02:00  WARN 63245 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:24:16.756+02:00 DEBUG 63245 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:24:16.799+02:00 DEBUG 63245 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:24:16.810+02:00 DEBUG 63245 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:24:16.831+02:00 DEBUG 63245 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:24:16.882+02:00  INFO 63245 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:24:16.887+02:00  INFO 63245 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.738 seconds (process running for 3.016)
2025-10-20T12:24:22.437+02:00  INFO 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:24:22.437+02:00  INFO 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:24:22.437+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:24:22.437+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:24:22.437+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:24:22.438+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6bc08a77
2025-10-20T12:24:22.438+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@58701e8c
2025-10-20T12:24:22.438+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:24:22.438+02:00  INFO 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T12:24:22.443+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:24:22.449+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:24:22.496+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:24:25.104+02:00  INFO 63245 --- [ProductManagement] [http-nio-8080-exec-1] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:24:26.063+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:24:26.097+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:24:26.101+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:24:26.065432, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:24:26.109+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Error in object 'patientDTO': codes [ValidPatientData.patientDTO,ValidPatientData]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO]; arguments []; default message []]; default message [Birthdate and date from JMBG is not equeal]] ]
2025-10-20T12:24:26.110+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:25:13.025+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:25:13.030+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:25:13.034+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:25:17.077+02:00  INFO 63245 --- [ProductManagement] [http-nio-8080-exec-4] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:25:20.364+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:25:20.367+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:25:20.368+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:25:20.365388, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:25:20.370+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Error in object 'patientDTO': codes [ValidPatientData.patientDTO,ValidPatientData]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO]; arguments []; default message []]; default message [Birthdate and date from JMBG is not equeal]] ]
2025-10-20T12:25:20.372+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:25:28.323+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:25:28.326+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:25:28.334+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:25:28.336+02:00  INFO 63245 --- [ProductManagement] [http-nio-8080-exec-5] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:25:28.337+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:25:28.338+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:25:28.339+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:25:28.338138, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:25:28.340+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Error in object 'patientDTO': codes [ValidPatientData.patientDTO,ValidPatientData]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO]; arguments []; default message []]; default message [Birthdate and date from JMBG is not equeal]] ]
2025-10-20T12:25:28.340+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:25:37.541+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:25:37.546+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:25:37.552+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:25:37.555+02:00  INFO 63245 --- [ProductManagement] [http-nio-8080-exec-7] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:25:37.556+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:25:37.557+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:25:37.558+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:25:37.557198, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:25:37.559+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Error in object 'patientDTO': codes [ValidPatientData.patientDTO,ValidPatientData]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO]; arguments []; default message []]; default message [Birthdate and date from JMBG is not equeal]] ]
2025-10-20T12:25:37.559+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:25:52.461+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:25:52.466+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:25:52.470+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:27:42.726+02:00  WARN 63245 --- [ProductManagement] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m24s158ms).
2025-10-20T12:27:42.732+02:00  INFO 63245 --- [ProductManagement] [http-nio-8080-exec-10] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:27:42.743+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:27:42.748+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:27:42.749+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:27:42.744826, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:27:42.751+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Error in object 'patientDTO': codes [ValidPatientData.patientDTO,ValidPatientData]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO]; arguments []; default message []]; default message [Birthdate and date from JMBG is not equeal]] ]
2025-10-20T12:27:42.752+02:00 DEBUG 63245 --- [ProductManagement] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:27:47.404+02:00  INFO 63245 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:27:47.415+02:00  INFO 63245 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:27:47.418+02:00  INFO 63245 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:27:47.419+02:00 DEBUG 63245 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:27:47.427+02:00  INFO 63245 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:27:47.428+02:00  INFO 63245 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:27:49.288+02:00  INFO 63298 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63298 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:27:49.289+02:00  INFO 63298 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:27:49.543+02:00  INFO 63298 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:27:49.565+02:00  INFO 63298 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:27:49.731+02:00  INFO 63298 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:27:49.737+02:00  INFO 63298 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:27:49.737+02:00  INFO 63298 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:27:49.762+02:00  INFO 63298 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:27:49.762+02:00  INFO 63298 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 459 ms
2025-10-20T12:27:49.818+02:00  INFO 63298 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:27:49.898+02:00  INFO 63298 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:47ed6ca7-31b0-4386-b05b-26a6c6f8ab87 user=SA
2025-10-20T12:27:49.899+02:00  INFO 63298 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:27:49.918+02:00  INFO 63298 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:27:49.940+02:00  INFO 63298 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:27:49.952+02:00  INFO 63298 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:27:50.067+02:00  INFO 63298 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:27:50.100+02:00  INFO 63298 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:27:50.437+02:00  INFO 63298 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:27:50.442+02:00 DEBUG 63298 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:27:50.446+02:00 DEBUG 63298 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, jmbg integer unique, id bigint generated by default as identity, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:27:50.452+02:00  INFO 63298 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:27:50.694+02:00  WARN 63298 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:27:50.778+02:00 DEBUG 63298 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:27:50.825+02:00 DEBUG 63298 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:27:50.840+02:00 DEBUG 63298 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:27:50.870+02:00 DEBUG 63298 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:27:50.949+02:00  INFO 63298 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:27:50.955+02:00  INFO 63298 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.847 seconds (process running for 2.396)
2025-10-20T12:27:52.191+02:00  INFO 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:27:52.192+02:00  INFO 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:27:52.192+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:27:52.192+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:27:52.192+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:27:52.194+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@188532da
2025-10-20T12:27:52.194+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3fc2e100
2025-10-20T12:27:52.194+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:27:52.194+02:00  INFO 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-20T12:27:52.198+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:27:52.204+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:27:52.254+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:28:12.144+02:00  INFO 63298 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:28:12.153+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:28:12.176+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:28:12.180+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:28:12.155942, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:28:12.187+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:28:12.188+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:31:34.181+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:31:34.187+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:31:34.194+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:31:37.545+02:00  INFO 63298 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:40:00.273+02:00  WARN 63298 --- [ProductManagement] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m40s241ms).
2025-10-20T12:40:00.287+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:40:00.290+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:40:00.293+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:40:00.288417, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:40:00.307+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: For input string: "1103998782810"]
2025-10-20T12:40:00.311+02:00 DEBUG 63298 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:40:00.383+02:00  INFO 63298 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:40:00.421+02:00  INFO 63298 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:40:00.424+02:00  INFO 63298 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:40:00.428+02:00 DEBUG 63298 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:40:00.432+02:00  INFO 63298 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:40:00.433+02:00  INFO 63298 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:40:24.026+02:00  INFO 63545 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63545 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:40:24.027+02:00  INFO 63545 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:40:24.292+02:00  INFO 63545 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:40:24.315+02:00  INFO 63545 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 1 JPA repository interface.
2025-10-20T12:40:24.491+02:00  INFO 63545 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:40:24.499+02:00  INFO 63545 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:40:24.500+02:00  INFO 63545 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:40:24.516+02:00  INFO 63545 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:40:24.516+02:00  INFO 63545 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 473 ms
2025-10-20T12:40:24.567+02:00  INFO 63545 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:40:24.647+02:00  INFO 63545 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:07d0a7ed-ec3d-40ee-bdca-a9eaf05fedec user=SA
2025-10-20T12:40:24.647+02:00  INFO 63545 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:40:24.668+02:00  INFO 63545 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:40:24.695+02:00  INFO 63545 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:40:24.711+02:00  INFO 63545 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:40:24.837+02:00  INFO 63545 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:40:24.876+02:00  INFO 63545 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:40:25.226+02:00  INFO 63545 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:40:25.232+02:00 DEBUG 63545 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:40:25.236+02:00 DEBUG 63545 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:40:25.241+02:00  INFO 63545 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:40:25.382+02:00  WARN 63545 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:40:25.418+02:00 DEBUG 63545 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:40:25.455+02:00 DEBUG 63545 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:40:25.467+02:00 DEBUG 63545 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:40:25.492+02:00 DEBUG 63545 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:40:25.544+02:00  INFO 63545 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:40:25.548+02:00  INFO 63545 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.707 seconds (process running for 2.944)
2025-10-20T12:40:33.072+02:00  INFO 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:40:33.073+02:00  INFO 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:40:33.073+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:40:33.073+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:40:33.073+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:40:33.075+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@399a5a52
2025-10-20T12:40:33.075+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@20e7152a
2025-10-20T12:40:33.075+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:40:33.075+02:00  INFO 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-20T12:40:33.081+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:40:33.089+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:40:33.156+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:40:35.727+02:00  INFO 63545 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:40:51.284+02:00  INFO 63545 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@48b8188b
2025-10-20T12:40:56.346+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:40:59.633+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T12:41:03.707+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:41:03.707+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@48b8188b]
2025-10-20T12:41:03.715+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T12:41:27.342+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:41:27.352+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:41:27.357+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:41:30.537+02:00  INFO 63545 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:41:34.087+02:00  INFO 63545 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@35d4377c
2025-10-20T12:41:40.993+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:41:41.007+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeDuplicateResourceException(DuplicateResourceException, HttpServletRequest)
2025-10-20T12:41:41.013+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:41:41.019+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:41:41.009672, status=409, error=Duplicate Resource, message=Pa (truncated)...]
2025-10-20T12:41:41.020+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [md.practice.projects.dentalclinicmanagement.exception.DuplicateResourceException: Patient with jmbg= 1103998782810 already exists]
2025-10-20T12:41:41.020+02:00 DEBUG 63545 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 409 CONFLICT
2025-10-20T12:42:36.370+02:00  INFO 63545 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:42:36.377+02:00  INFO 63545 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:42:36.384+02:00  INFO 63545 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:42:36.385+02:00 DEBUG 63545 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:42:36.388+02:00  INFO 63545 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:42:36.389+02:00  INFO 63545 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:42:37.929+02:00  INFO 63572 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63572 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:42:37.929+02:00  INFO 63572 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:42:38.183+02:00  INFO 63572 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:42:38.206+02:00  INFO 63572 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:42:38.375+02:00  INFO 63572 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:42:38.381+02:00  INFO 63572 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:42:38.381+02:00  INFO 63572 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:42:38.407+02:00  INFO 63572 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:42:38.407+02:00  INFO 63572 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 463 ms
2025-10-20T12:42:38.464+02:00  INFO 63572 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:42:38.546+02:00  INFO 63572 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:4a0b62d4-6e8e-4c55-9152-b5711c85ca1b user=SA
2025-10-20T12:42:38.546+02:00  INFO 63572 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:42:38.563+02:00  INFO 63572 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:42:38.583+02:00  INFO 63572 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:42:38.595+02:00  INFO 63572 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:42:38.706+02:00  INFO 63572 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:42:38.740+02:00  INFO 63572 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:42:39.079+02:00  INFO 63572 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:42:39.085+02:00 DEBUG 63572 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:42:39.089+02:00 DEBUG 63572 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:42:39.095+02:00  INFO 63572 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:42:39.227+02:00  WARN 63572 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:42:39.263+02:00 DEBUG 63572 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:42:39.299+02:00 DEBUG 63572 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:42:39.311+02:00 DEBUG 63572 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:42:39.335+02:00 DEBUG 63572 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:42:39.385+02:00  INFO 63572 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:42:39.390+02:00  INFO 63572 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.648 seconds (process running for 2.24)
2025-10-20T12:42:42.794+02:00  INFO 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:42:42.794+02:00  INFO 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:42:42.794+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:42:42.794+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:42:42.794+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:42:42.795+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@31885b4b
2025-10-20T12:42:42.795+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6f53295e
2025-10-20T12:42:42.795+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:42:42.795+02:00  INFO 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T12:42:42.799+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:42:42.804+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:42:42.846+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381  (truncated)...]
2025-10-20T12:42:42.872+02:00  INFO 63572 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:42:42.873+02:00  INFO 63572 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@67f65ad3
2025-10-20T12:42:42.915+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:42:42.944+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T12:42:42.963+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:42:42.963+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@67f65ad3]
2025-10-20T12:42:42.968+02:00 DEBUG 63572 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T12:43:17.297+02:00  INFO 63572 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:43:17.305+02:00  INFO 63572 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:43:17.310+02:00  INFO 63572 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:43:17.311+02:00 DEBUG 63572 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:43:17.313+02:00  INFO 63572 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:43:17.315+02:00  INFO 63572 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:43:19.231+02:00  INFO 63585 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63585 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:43:19.232+02:00  INFO 63585 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:43:19.495+02:00  INFO 63585 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:43:19.519+02:00  INFO 63585 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:43:19.690+02:00  INFO 63585 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:43:19.696+02:00  INFO 63585 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:43:19.697+02:00  INFO 63585 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:43:19.714+02:00  INFO 63585 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:43:19.714+02:00  INFO 63585 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 467 ms
2025-10-20T12:43:19.769+02:00  INFO 63585 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:43:19.849+02:00  INFO 63585 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:99291899-583e-4213-aeea-27e45c8d87ff user=SA
2025-10-20T12:43:19.850+02:00  INFO 63585 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:43:19.867+02:00  INFO 63585 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:43:19.890+02:00  INFO 63585 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:43:19.905+02:00  INFO 63585 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:43:20.018+02:00  INFO 63585 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:43:20.054+02:00  INFO 63585 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:43:20.397+02:00  INFO 63585 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:43:20.402+02:00 DEBUG 63585 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:43:20.406+02:00 DEBUG 63585 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:43:20.412+02:00  INFO 63585 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:43:20.617+02:00  WARN 63585 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:43:20.667+02:00 DEBUG 63585 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:43:20.706+02:00 DEBUG 63585 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:43:20.717+02:00 DEBUG 63585 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:43:20.745+02:00 DEBUG 63585 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:43:20.806+02:00  INFO 63585 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:43:20.811+02:00  INFO 63585 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.775 seconds (process running for 2.712)
2025-10-20T12:43:21.990+02:00  INFO 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:43:21.990+02:00  INFO 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:43:21.990+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:43:21.990+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:43:21.990+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:43:21.991+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3fc2e100
2025-10-20T12:43:21.991+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f09907
2025-10-20T12:43:21.991+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:43:21.991+02:00  INFO 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T12:43:21.996+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:43:22.003+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:43:22.044+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+3816 (truncated)...]
2025-10-20T12:43:22.070+02:00  INFO 63585 --- [ProductManagement] [http-nio-8080-exec-1] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:43:22.071+02:00  INFO 63585 --- [ProductManagement] [http-nio-8080-exec-1] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@21419a76
2025-10-20T12:43:22.119+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:43:22.148+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T12:43:22.164+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:43:22.165+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@21419a76]
2025-10-20T12:43:22.169+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T12:43:39.411+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:43:39.413+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:43:39.422+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+3816 (truncated)...]
2025-10-20T12:43:39.424+02:00  INFO 63585 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.validation.JmbgValidator         : Birth date: 1103998
2025-10-20T12:43:39.424+02:00  INFO 63585 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@26daf114
2025-10-20T12:43:39.429+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:43:39.437+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeDuplicateResourceException(DuplicateResourceException, HttpServletRequest)
2025-10-20T12:43:39.442+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:43:39.447+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:43:39.439196, status=409, error=Duplicate Resource, message=Pa (truncated)...]
2025-10-20T12:43:39.448+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [md.practice.projects.dentalclinicmanagement.exception.DuplicateResourceException: Patient with jmbg= 1103998782810 already exists]
2025-10-20T12:43:39.448+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 409 CONFLICT
2025-10-20T12:51:33.661+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/jmbg=1103998782810", parameters={}
2025-10-20T12:51:33.677+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-10-20T12:51:33.681+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-10-20T12:51:33.683+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:51:33.684+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:51:33.685+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:51:33.683941, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:51:33.686+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/patients/jmbg=1103998782810.]
2025-10-20T12:51:33.686+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:52:59.878+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/?jmbg=1103998782810", parameters={masked}
2025-10-20T12:52:59.885+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-10-20T12:52:59.889+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-7] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-10-20T12:52:59.896+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:52:59.897+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:52:59.897+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:52:59.896621, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:52:59.898+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/patients.]
2025-10-20T12:52:59.898+02:00 DEBUG 63585 --- [ProductManagement] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:53:54.384+02:00  INFO 63585 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:53:54.407+02:00  INFO 63585 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:53:54.412+02:00  INFO 63585 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:53:54.413+02:00 DEBUG 63585 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:53:54.416+02:00  INFO 63585 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:53:54.417+02:00  INFO 63585 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:53:57.168+02:00  INFO 63691 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63691 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:53:57.169+02:00  INFO 63691 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:53:57.442+02:00  INFO 63691 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:53:57.464+02:00  INFO 63691 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T12:53:57.639+02:00  INFO 63691 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:53:57.646+02:00  INFO 63691 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:53:57.646+02:00  INFO 63691 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:53:57.663+02:00  INFO 63691 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:53:57.664+02:00  INFO 63691 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 478 ms
2025-10-20T12:53:57.716+02:00  INFO 63691 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:53:57.799+02:00  INFO 63691 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:43f320a5-a490-42c6-ba05-fd2114861d3d user=SA
2025-10-20T12:53:57.800+02:00  INFO 63691 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:53:57.819+02:00  INFO 63691 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:53:57.848+02:00  INFO 63691 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:53:57.868+02:00  INFO 63691 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:53:57.995+02:00  INFO 63691 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:53:58.032+02:00  INFO 63691 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:53:58.385+02:00  INFO 63691 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:53:58.391+02:00 DEBUG 63691 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:53:58.395+02:00 DEBUG 63691 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:53:58.400+02:00  INFO 63691 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:53:58.535+02:00  WARN 63691 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:53:58.576+02:00 DEBUG 63691 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:53:58.616+02:00 DEBUG 63691 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:53:58.628+02:00 DEBUG 63691 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:53:58.650+02:00 DEBUG 63691 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:53:58.703+02:00  INFO 63691 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:53:58.708+02:00  INFO 63691 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.739 seconds (process running for 2.622)
2025-10-20T12:54:08.908+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T12:54:08.908+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T12:54:08.909+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T12:54:08.909+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T12:54:08.909+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T12:54:08.910+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@27ea552d
2025-10-20T12:54:08.910+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@198a0416
2025-10-20T12:54:08.911+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T12:54:08.911+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-10-20T12:54:08.918+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?jmbg=1103998782810", parameters={masked}
2025-10-20T12:54:08.924+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T12:54:46.779+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] org.hibernate.SQL                        : select p1_0.id,p1_0.address,p1_0.date_of_birth,p1_0.email,p1_0.first_name,p1_0.jmbg,p1_0.last_name,p1_0.medical_history,p1_0.phone from patients p1_0 where 1=1 and p1_0.jmbg=? and 1=1 and 1=1 and 1=1
2025-10-20T12:54:46.913+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:54:46.914+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-10-20T12:54:46.923+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-20T12:54:55.279+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:54:55.281+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:54:55.348+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+3816 (truncated)...]
2025-10-20T12:54:55.365+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-4] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@583fc15b
2025-10-20T12:54:55.372+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:54:55.385+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T12:54:55.401+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:54:55.401+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@583fc15b]
2025-10-20T12:54:55.402+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T12:55:00.887+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?jmbg=1103998782810", parameters={masked}
2025-10-20T12:55:00.887+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T12:55:03.036+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-5] org.hibernate.SQL                        : select p1_0.id,p1_0.address,p1_0.date_of_birth,p1_0.email,p1_0.first_name,p1_0.jmbg,p1_0.last_name,p1_0.medical_history,p1_0.phone from patients p1_0 where 1=1 and p1_0.jmbg=? and 1=1 and 1=1 and 1=1
2025-10-20T12:55:03.047+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:55:03.048+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[md.practice.projects.dentalclinicmanagement.entity.Patient@5a8a6a69]]
2025-10-20T12:55:03.051+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-20T12:55:35.133+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:55:35.136+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:55:35.141+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Markoo, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+381 (truncated)...]
2025-10-20T12:55:35.144+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-6] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@2f1f1678
2025-10-20T12:55:35.150+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:55:35.162+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeDuplicateResourceException(DuplicateResourceException, HttpServletRequest)
2025-10-20T12:55:35.166+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:55:35.171+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:55:35.163815, status=409, error=Duplicate Resource, message=Pa (truncated)...]
2025-10-20T12:55:35.172+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [md.practice.projects.dentalclinicmanagement.exception.DuplicateResourceException: Patient with jmbg= 1103998782810 already exists]
2025-10-20T12:55:35.173+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 409 CONFLICT
2025-10-20T12:55:50.421+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:55:50.422+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:55:50.424+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103999782810, dateOfBirth=11031999, phone=+3816 (truncated)...]
2025-10-20T12:55:50.434+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:55:50.438+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:55:50.439+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:55:50.435178, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:55:50.445+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Field error in object 'patientDTO' on field 'jmbg': rejected value [1103999782810]; codes [ValidJmbg.patientDTO.jmbg,ValidJmbg.jmbg,ValidJmbg.java.lang.String,ValidJmbg]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO.jmbg,jmbg]; arguments []; default message [jmbg]]; default message [Invalid JMBG]] ]
2025-10-20T12:55:50.445+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:56:25.814+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:56:25.816+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:56:25.827+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103999782810, dateOfBirth=11031999, phone=+3816 (truncated)...]
2025-10-20T12:56:25.832+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:56:25.834+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:56:25.834+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:56:25.833322, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:56:25.835+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Field error in object 'patientDTO' on field 'jmbg': rejected value [1103999782810]; codes [ValidJmbg.patientDTO.jmbg,ValidJmbg.jmbg,ValidJmbg.java.lang.String,ValidJmbg]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO.jmbg,jmbg]; arguments []; default message [jmbg]]; default message [Invalid JMBG]] ]
2025-10-20T12:56:25.836+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:56:34.455+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:56:34.456+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:56:34.459+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103999782810, dateOfBirth=11031999, phone=+3816 (truncated)...]
2025-10-20T12:56:56.147+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:56:56.151+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:56:56.152+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:56:56.150328, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:56:56.154+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Field error in object 'patientDTO' on field 'jmbg': rejected value [1103999782810]; codes [ValidJmbg.patientDTO.jmbg,ValidJmbg.jmbg,ValidJmbg.java.lang.String,ValidJmbg]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO.jmbg,jmbg]; arguments []; default message [jmbg]]; default message [Invalid JMBG]] ]
2025-10-20T12:56:56.155+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:57:25.036+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:57:25.039+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:57:25.044+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1704996787828, dateOfBirth=17041996, phone=+3816 (truncated)...]
2025-10-20T12:57:26.802+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:57:26.804+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:57:26.804+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:57:26.803609, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:57:26.808+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Field error in object 'patientDTO' on field 'jmbg': rejected value [1704996787828]; codes [ValidJmbg.patientDTO.jmbg,ValidJmbg.jmbg,ValidJmbg.java.lang.String,ValidJmbg]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO.jmbg,jmbg]; arguments []; default message [jmbg]]; default message [Invalid JMBG]] ]
2025-10-20T12:57:26.810+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:57:51.416+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:57:51.419+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:57:51.424+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1704973787828, dateOfBirth=17041973, phone=+3816 (truncated)...]
2025-10-20T12:57:51.428+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:57:51.429+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:57:51.429+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:57:51.428712, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:57:51.430+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<md.practice.projects.dentalclinicmanagement.entity.Patient> md.practice.projects.dentalclinicmanagement.controller.PatientController.createPatient(md.practice.projects.dentalclinicmanagement.dto.PatientDTO): [Field error in object 'patientDTO' on field 'jmbg': rejected value [1704973787828]; codes [ValidJmbg.patientDTO.jmbg,ValidJmbg.jmbg,ValidJmbg.java.lang.String,ValidJmbg]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientDTO.jmbg,jmbg]; arguments []; default message [jmbg]]; default message [Invalid JMBG]] ]
2025-10-20T12:57:51.431+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:58:29.198+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:58:29.200+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:58:29.201+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1704973782828, dateOfBirth=17041973, phone=+3816 (truncated)...]
2025-10-20T12:58:29.202+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@48d673cb
2025-10-20T12:58:29.207+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:58:29.211+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T12:58:29.226+02:00  WARN 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2025-10-20T12:58:29.226+02:00 ERROR 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_78 ON PUBLIC.PATIENTS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'exemple@example.com' )"; SQL statement:
insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default) [23505-232]
2025-10-20T12:58:29.237+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T12:58:29.237+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:58:29.237+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T12:58:29.237483, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T12:58:29.238+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_78 ON PUBLIC.PATIENTS(EMAIL NULLS FIRST) VALUES ( /* 1 */ 'exemple@example.com' )"; SQL statement:<EOL>insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default) [23505-232]] [insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)]; SQL [insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_INDEX_78]]
2025-10-20T12:58:29.238+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T12:58:56.410+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T12:58:56.414+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T12:58:56.422+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1704973782828, dateOfBirth=17041973, phone=+3816 (truncated)...]
2025-10-20T12:58:56.425+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-7] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@6f771d6e
2025-10-20T12:58:56.437+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-7] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T12:58:56.441+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T12:58:56.444+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:58:56.444+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@6f771d6e]
2025-10-20T12:58:56.445+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T12:59:14.032+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?name=Marko", parameters={masked}
2025-10-20T12:59:14.033+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T12:59:14.035+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-9] m.p.p.d.validation.JmbgValidator         : JMBG length is less than 13, or null
2025-10-20T12:59:14.036+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:59:14.037+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:59:14.037+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:59:14.037114, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:59:14.038+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.util.List<md.practice.projects.dentalclinicmanagement.entity.Patient>> md.practice.projects.dentalclinicmanagement.controller.PatientController.getPatientsBy(md.practice.projects.dentalclinicmanagement.dto.PatientSearchDTO): [Field error in object 'patientSearchDTO' on field 'jmbg': rejected value [null]; codes [ValidJmbg.patientSearchDTO.jmbg,ValidJmbg.jmbg,ValidJmbg.java.lang.String,ValidJmbg]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientSearchDTO.jmbg,jmbg]; arguments []; default message [jmbg]]; default message [Invalid JMBG number]] ]
2025-10-20T12:59:14.038+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:59:29.364+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?firstName=Marko", parameters={masked}
2025-10-20T12:59:29.369+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T12:59:29.375+02:00  INFO 63691 --- [ProductManagement] [http-nio-8080-exec-10] m.p.p.d.validation.JmbgValidator         : JMBG length is less than 13, or null
2025-10-20T12:59:29.378+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T12:59:29.381+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T12:59:29.381+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T12:59:29.380174, status=400, error=Validation Error, er (truncated)...]
2025-10-20T12:59:29.383+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.util.List<md.practice.projects.dentalclinicmanagement.entity.Patient>> md.practice.projects.dentalclinicmanagement.controller.PatientController.getPatientsBy(md.practice.projects.dentalclinicmanagement.dto.PatientSearchDTO): [Field error in object 'patientSearchDTO' on field 'jmbg': rejected value [null]; codes [ValidJmbg.patientSearchDTO.jmbg,ValidJmbg.jmbg,ValidJmbg.java.lang.String,ValidJmbg]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientSearchDTO.jmbg,jmbg]; arguments []; default message [jmbg]]; default message [Invalid JMBG number]] ]
2025-10-20T12:59:29.383+02:00 DEBUG 63691 --- [ProductManagement] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T12:59:53.082+02:00  INFO 63691 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T12:59:53.092+02:00  INFO 63691 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T12:59:53.096+02:00  INFO 63691 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:59:53.097+02:00 DEBUG 63691 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:59:53.099+02:00  INFO 63691 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T12:59:53.100+02:00  INFO 63691 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T12:59:55.223+02:00  INFO 63741 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63741 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T12:59:55.224+02:00  INFO 63741 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T12:59:55.493+02:00  INFO 63741 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T12:59:55.516+02:00  INFO 63741 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 1 JPA repository interface.
2025-10-20T12:59:55.681+02:00  INFO 63741 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T12:59:55.691+02:00  INFO 63741 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T12:59:55.691+02:00  INFO 63741 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T12:59:55.713+02:00  INFO 63741 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T12:59:55.713+02:00  INFO 63741 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 474 ms
2025-10-20T12:59:55.765+02:00  INFO 63741 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T12:59:55.849+02:00  INFO 63741 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:68941f94-36f1-4381-8cd5-6cbda6b632b5 user=SA
2025-10-20T12:59:55.850+02:00  INFO 63741 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T12:59:55.868+02:00  INFO 63741 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T12:59:55.897+02:00  INFO 63741 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T12:59:55.912+02:00  INFO 63741 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T12:59:56.034+02:00  INFO 63741 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T12:59:56.072+02:00  INFO 63741 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T12:59:56.418+02:00  INFO 63741 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T12:59:56.424+02:00 DEBUG 63741 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T12:59:56.428+02:00 DEBUG 63741 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T12:59:56.433+02:00  INFO 63741 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T12:59:56.571+02:00  WARN 63741 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T12:59:56.608+02:00 DEBUG 63741 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T12:59:56.644+02:00 DEBUG 63741 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T12:59:56.656+02:00 DEBUG 63741 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T12:59:56.681+02:00 DEBUG 63741 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T12:59:56.731+02:00  INFO 63741 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T12:59:56.736+02:00  INFO 63741 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.703 seconds (process running for 2.799)
2025-10-20T13:00:00.581+02:00  INFO 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T13:00:00.581+02:00  INFO 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T13:00:00.582+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T13:00:00.582+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T13:00:00.582+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T13:00:00.583+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@27ea552d
2025-10-20T13:00:00.583+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@198a0416
2025-10-20T13:00:00.583+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T13:00:00.583+02:00  INFO 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-20T13:00:00.588+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T13:00:00.594+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T13:00:00.642+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1704973782828, dateOfBirth=17041973, phone=+3816 (truncated)...]
2025-10-20T13:00:00.677+02:00  INFO 63741 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@3b548553
2025-10-20T13:00:00.727+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T13:00:00.757+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T13:00:00.775+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:00:00.775+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@3b548553]
2025-10-20T13:00:00.780+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T13:00:48.514+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T13:00:48.520+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T13:00:48.525+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+3816 (truncated)...]
2025-10-20T13:00:48.527+02:00  INFO 63741 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@297dea82
2025-10-20T13:00:48.533+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T13:00:48.536+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T13:00:48.539+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:00:48.539+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@297dea82]
2025-10-20T13:00:48.540+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T13:00:51.992+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?firstName=Marko", parameters={masked}
2025-10-20T13:00:51.993+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T13:00:52.021+02:00  INFO 63741 --- [ProductManagement] [http-nio-8080-exec-4] m.p.p.d.validation.JmbgValidator         : JMBG length is less than 13, or null
2025-10-20T13:00:52.032+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handleMethodArgumentNotValidException(MethodArgumentNotValidException, HttpServletRequest)
2025-10-20T13:00:52.037+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:00:52.041+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ValidationErrorResponse[timestamp=2025-10-20T13:00:52.034021, status=400, error=Validation Error, er (truncated)...]
2025-10-20T13:00:52.046+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<java.util.List<md.practice.projects.dentalclinicmanagement.entity.Patient>> md.practice.projects.dentalclinicmanagement.controller.PatientController.getPatientsBy(md.practice.projects.dentalclinicmanagement.dto.PatientSearchDTO): [Field error in object 'patientSearchDTO' on field 'jmbg': rejected value [null]; codes [ValidJmbg.patientSearchDTO.jmbg,ValidJmbg.jmbg,ValidJmbg.java.lang.String,ValidJmbg]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [patientSearchDTO.jmbg,jmbg]; arguments []; default message [jmbg]]; default message [Invalid JMBG number]] ]
2025-10-20T13:00:52.047+02:00 DEBUG 63741 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-10-20T13:01:37.981+02:00  INFO 63741 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T13:01:37.998+02:00  INFO 63741 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T13:01:38.001+02:00  INFO 63741 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:01:38.002+02:00 DEBUG 63741 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:01:38.008+02:00  INFO 63741 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:01:38.009+02:00  INFO 63741 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T13:01:40.708+02:00  INFO 63785 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63785 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T13:01:40.709+02:00  INFO 63785 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T13:01:40.977+02:00  INFO 63785 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T13:01:41.000+02:00  INFO 63785 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T13:01:41.183+02:00  INFO 63785 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T13:01:41.190+02:00  INFO 63785 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T13:01:41.190+02:00  INFO 63785 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T13:01:41.215+02:00  INFO 63785 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T13:01:41.216+02:00  INFO 63785 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 490 ms
2025-10-20T13:01:41.268+02:00  INFO 63785 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T13:01:41.348+02:00  INFO 63785 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:de3a6123-6948-42dd-b8b0-6de0430c82d9 user=SA
2025-10-20T13:01:41.349+02:00  INFO 63785 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T13:01:41.370+02:00  INFO 63785 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T13:01:41.398+02:00  INFO 63785 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T13:01:41.415+02:00  INFO 63785 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T13:01:41.549+02:00  INFO 63785 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T13:01:41.586+02:00  INFO 63785 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T13:01:41.949+02:00  INFO 63785 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T13:01:41.955+02:00 DEBUG 63785 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:01:41.958+02:00 DEBUG 63785 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T13:01:41.964+02:00  INFO 63785 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:01:42.112+02:00  WARN 63785 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T13:01:42.152+02:00 DEBUG 63785 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T13:01:42.191+02:00 DEBUG 63785 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T13:01:42.203+02:00 DEBUG 63785 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T13:01:42.224+02:00 DEBUG 63785 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T13:01:42.279+02:00  INFO 63785 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T13:01:42.284+02:00  INFO 63785 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.76 seconds (process running for 3.024)
2025-10-20T13:01:55.036+02:00  INFO 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T13:01:55.037+02:00  INFO 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T13:01:55.037+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T13:01:55.037+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T13:01:55.037+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T13:01:55.038+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4bdbfbc6
2025-10-20T13:01:55.038+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@73483d4b
2025-10-20T13:01:55.038+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T13:01:55.038+02:00  INFO 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T13:01:55.042+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?firstName=Marko", parameters={masked}
2025-10-20T13:01:55.048+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T13:01:58.742+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T13:01:58.786+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:01:58.790+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T13:01:58.745693, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T13:01:58.800+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: Cannot parse null string]
2025-10-20T13:01:58.803+02:00 DEBUG 63785 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T13:02:45.240+02:00  INFO 63785 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T13:02:45.254+02:00  INFO 63785 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T13:02:45.257+02:00  INFO 63785 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:02:45.258+02:00 DEBUG 63785 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:02:45.262+02:00  INFO 63785 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:02:45.264+02:00  INFO 63785 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T13:02:47.022+02:00  INFO 63808 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63808 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T13:02:47.023+02:00  INFO 63808 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T13:02:47.272+02:00  INFO 63808 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T13:02:47.295+02:00  INFO 63808 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T13:02:47.459+02:00  INFO 63808 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T13:02:47.465+02:00  INFO 63808 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T13:02:47.465+02:00  INFO 63808 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T13:02:47.491+02:00  INFO 63808 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T13:02:47.491+02:00  INFO 63808 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 452 ms
2025-10-20T13:02:47.545+02:00  INFO 63808 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T13:02:47.621+02:00  INFO 63808 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:be361105-56bd-4758-b16f-4df5d4786195 user=SA
2025-10-20T13:02:47.622+02:00  INFO 63808 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T13:02:47.641+02:00  INFO 63808 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T13:02:47.662+02:00  INFO 63808 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T13:02:47.674+02:00  INFO 63808 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T13:02:47.787+02:00  INFO 63808 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T13:02:47.820+02:00  INFO 63808 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T13:02:48.169+02:00  INFO 63808 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T13:02:48.174+02:00 DEBUG 63808 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:02:48.178+02:00 DEBUG 63808 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T13:02:48.183+02:00  INFO 63808 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:02:48.412+02:00  WARN 63808 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T13:02:48.476+02:00 DEBUG 63808 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T13:02:48.518+02:00 DEBUG 63808 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T13:02:48.531+02:00 DEBUG 63808 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T13:02:48.558+02:00 DEBUG 63808 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T13:02:48.623+02:00  INFO 63808 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T13:02:48.629+02:00  INFO 63808 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.78 seconds (process running for 2.282)
2025-10-20T13:02:51.781+02:00  INFO 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T13:02:51.781+02:00  INFO 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T13:02:51.781+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T13:02:51.781+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T13:02:51.781+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T13:02:51.782+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@775fec4
2025-10-20T13:02:51.782+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6b247ef6
2025-10-20T13:02:51.782+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T13:02:51.782+02:00  INFO 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T13:02:51.786+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T13:02:51.792+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T13:02:51.833+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+3816 (truncated)...]
2025-10-20T13:02:51.861+02:00  INFO 63808 --- [ProductManagement] [http-nio-8080-exec-2] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@6faed77
2025-10-20T13:02:51.904+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T13:02:51.932+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T13:02:51.951+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:02:51.952+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@6faed77]
2025-10-20T13:02:51.956+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T13:03:17.597+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T13:03:17.602+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T13:03:17.607+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1704973782828, dateOfBirth=17041973, phone=+3816 (truncated)...]
2025-10-20T13:03:17.609+02:00  INFO 63808 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@5f204b8b
2025-10-20T13:03:17.616+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T13:03:17.620+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T13:03:17.622+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:03:17.622+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@5f204b8b]
2025-10-20T13:03:17.623+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T13:03:22.909+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?firstName=Marko", parameters={masked}
2025-10-20T13:03:22.909+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T13:03:22.937+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T13:03:22.942+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:03:22.946+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T13:03:22.939132, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T13:03:22.946+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: Cannot parse null string]
2025-10-20T13:03:22.946+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T13:03:43.542+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?firstName=Marko", parameters={masked}
2025-10-20T13:03:43.545+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T13:03:43.556+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T13:03:43.557+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:03:43.558+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T13:03:43.557058, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T13:03:43.559+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: Cannot parse null string]
2025-10-20T13:03:43.560+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T13:04:17.151+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?firstName=Marko", parameters={masked}
2025-10-20T13:04:17.158+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T13:04:23.240+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler md.practice.projects.dentalclinicmanagement.handler.GlobalExceptionHandler#handeException(Exception, HttpServletRequest)
2025-10-20T13:04:23.242+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:04:23.243+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse[timestamp=2025-10-20T13:04:23.241514, status=500, error=Internal Server Error, message (truncated)...]
2025-10-20T13:04:23.245+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NumberFormatException: Cannot parse null string]
2025-10-20T13:04:23.245+02:00 DEBUG 63808 --- [ProductManagement] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-10-20T13:05:10.593+02:00  INFO 63808 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T13:05:10.602+02:00  INFO 63808 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T13:05:10.606+02:00  INFO 63808 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:05:10.607+02:00 DEBUG 63808 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:05:10.609+02:00  INFO 63808 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:05:10.612+02:00  INFO 63808 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T13:05:12.638+02:00  INFO 63847 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63847 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T13:05:12.639+02:00  INFO 63847 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T13:05:12.908+02:00  INFO 63847 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T13:05:12.931+02:00  INFO 63847 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T13:05:13.115+02:00  INFO 63847 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T13:05:13.122+02:00  INFO 63847 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T13:05:13.122+02:00  INFO 63847 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T13:05:13.141+02:00  INFO 63847 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T13:05:13.141+02:00  INFO 63847 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 486 ms
2025-10-20T13:05:13.192+02:00  INFO 63847 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T13:05:13.276+02:00  INFO 63847 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:a0c20955-014d-4531-91b3-0899d8b256ea user=SA
2025-10-20T13:05:13.276+02:00  INFO 63847 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T13:05:13.297+02:00  INFO 63847 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T13:05:13.325+02:00  INFO 63847 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T13:05:13.341+02:00  INFO 63847 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T13:05:13.464+02:00  INFO 63847 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T13:05:13.499+02:00  INFO 63847 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T13:05:13.852+02:00  INFO 63847 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T13:05:13.858+02:00 DEBUG 63847 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:05:13.862+02:00 DEBUG 63847 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T13:05:13.867+02:00  INFO 63847 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:05:14.003+02:00  WARN 63847 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T13:05:14.042+02:00 DEBUG 63847 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T13:05:14.081+02:00 DEBUG 63847 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T13:05:14.092+02:00 DEBUG 63847 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T13:05:14.114+02:00 DEBUG 63847 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T13:05:14.167+02:00  INFO 63847 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-10-20T13:05:14.172+02:00  INFO 63847 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Started DentalClinicManagementApplication in 1.731 seconds (process running for 2.284)
2025-10-20T13:05:20.290+02:00  INFO 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-20T13:05:20.290+02:00  INFO 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-20T13:05:20.291+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-10-20T13:05:20.291+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-10-20T13:05:20.291+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-10-20T13:05:20.292+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@f10927f
2025-10-20T13:05:20.292+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@31885b4b
2025-10-20T13:05:20.292+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-10-20T13:05:20.292+02:00  INFO 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-20T13:05:20.297+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T13:05:20.303+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T13:05:20.352+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1704973782828, dateOfBirth=17041973, phone=+3816 (truncated)...]
2025-10-20T13:05:20.382+02:00  INFO 63847 --- [ProductManagement] [http-nio-8080-exec-1] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@57513e93
2025-10-20T13:05:20.435+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T13:05:20.471+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T13:05:20.489+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:05:20.489+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@57513e93]
2025-10-20T13:05:20.497+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T13:05:35.992+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/patients", parameters={}
2025-10-20T13:05:35.998+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#createPatient(PatientDTO)
2025-10-20T13:05:36.005+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [PatientDTO[firstName=Marko, lastName=Drobnjak, jmbg=1103998782810, dateOfBirth=11031998, phone=+3816 (truncated)...]
2025-10-20T13:05:36.010+02:00  INFO 63847 --- [ProductManagement] [http-nio-8080-exec-3] m.p.p.d.controller.PatientController     : Creating a new patient with id md.practice.projects.dentalclinicmanagement.entity.Patient@5e0cae76
2025-10-20T13:05:36.019+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : select p1_0.id from patients p1_0 where p1_0.jmbg=? fetch first ? rows only
2025-10-20T13:05:36.022+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into patients (address,date_of_birth,email,first_name,jmbg,last_name,medical_history,phone,id) values (?,?,?,?,?,?,?,?,default)
2025-10-20T13:05:36.025+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:05:36.025+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [md.practice.projects.dentalclinicmanagement.entity.Patient@5e0cae76]
2025-10-20T13:05:36.026+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-10-20T13:05:39.123+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/patients/searchBy/?firstName=Marko", parameters={masked}
2025-10-20T13:05:39.124+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to md.practice.projects.dentalclinicmanagement.controller.PatientController#getPatientsBy(PatientSearchDTO)
2025-10-20T13:06:15.286+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-4] org.hibernate.SQL                        : select p1_0.id,p1_0.address,p1_0.date_of_birth,p1_0.email,p1_0.first_name,p1_0.jmbg,p1_0.last_name,p1_0.medical_history,p1_0.phone from patients p1_0 where 1=1 and 1=1 and 1=1 and lower(p1_0.first_name) like ? escape '' and 1=1
2025-10-20T13:06:19.565+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-10-20T13:06:19.566+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[md.practice.projects.dentalclinicmanagement.entity.Patient@7b36b501, md.practice.projects.dentalcli (truncated)...]
2025-10-20T13:06:19.570+02:00 DEBUG 63847 --- [ProductManagement] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-10-20T13:15:38.998+02:00  INFO 63847 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-10-20T13:15:39.033+02:00  INFO 63847 --- [ProductManagement] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-10-20T13:15:39.039+02:00  INFO 63847 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:15:39.040+02:00 DEBUG 63847 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:15:39.043+02:00  INFO 63847 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:15:39.044+02:00  INFO 63847 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T13:15:41.830+02:00  INFO 63950 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63950 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T13:15:41.831+02:00  INFO 63950 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T13:15:42.095+02:00  INFO 63950 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T13:15:42.118+02:00  INFO 63950 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2025-10-20T13:15:42.288+02:00  INFO 63950 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T13:15:42.295+02:00  INFO 63950 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T13:15:42.295+02:00  INFO 63950 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T13:15:42.321+02:00  INFO 63950 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T13:15:42.321+02:00  INFO 63950 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 475 ms
2025-10-20T13:15:42.373+02:00  INFO 63950 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T13:15:42.455+02:00  INFO 63950 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:cb196630-2aa4-4a82-9964-945b591b5750 user=SA
2025-10-20T13:15:42.456+02:00  INFO 63950 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T13:15:42.476+02:00  INFO 63950 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T13:15:42.504+02:00  INFO 63950 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T13:15:42.519+02:00  INFO 63950 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T13:15:42.642+02:00  INFO 63950 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T13:15:42.677+02:00  INFO 63950 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T13:15:43.025+02:00  INFO 63950 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T13:15:43.031+02:00 DEBUG 63950 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:15:43.034+02:00 DEBUG 63950 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T13:15:43.040+02:00  INFO 63950 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:15:43.161+02:00  WARN 63950 --- [ProductManagement] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'patientController' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/controller/PatientController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'entityMapper' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/mapper/EntityMapper.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-10-20T13:15:43.161+02:00  INFO 63950 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:15:43.161+02:00 DEBUG 63950 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:15:43.163+02:00  INFO 63950 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:15:43.164+02:00  INFO 63950 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T13:15:43.164+02:00  INFO 63950 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-20T13:15:43.169+02:00  INFO 63950 --- [ProductManagement] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-20T13:15:43.177+02:00 ERROR 63950 --- [ProductManagement] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in md.practice.projects.dentalclinicmanagement.mapper.EntityMapper required a bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' that could not be found.


Action:

Consider defining a bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' in your configuration.

2025-10-20T13:16:30.938+02:00  INFO 63971 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : Starting DentalClinicManagementApplication using Java 21.0.8 with PID 63971 (/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T13:16:30.939+02:00  INFO 63971 --- [ProductManagement] [main] .p.p.d.DentalClinicManagementApplication : No active profile set, falling back to 1 default profile: "default"
2025-10-20T13:16:31.181+02:00  INFO 63971 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T13:16:31.201+02:00  INFO 63971 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2025-10-20T13:16:31.350+02:00  INFO 63971 --- [ProductManagement] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-20T13:16:31.357+02:00  INFO 63971 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-20T13:16:31.357+02:00  INFO 63971 --- [ProductManagement] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-10-20T13:16:31.372+02:00  INFO 63971 --- [ProductManagement] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-20T13:16:31.372+02:00  INFO 63971 --- [ProductManagement] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 415 ms
2025-10-20T13:16:31.422+02:00  INFO 63971 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T13:16:31.498+02:00  INFO 63971 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:6b53ce19-3cf8-458c-b230-bdb1e357526b user=SA
2025-10-20T13:16:31.499+02:00  INFO 63971 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T13:16:31.516+02:00  INFO 63971 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T13:16:31.543+02:00  INFO 63971 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T13:16:31.557+02:00  INFO 63971 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T13:16:31.670+02:00  INFO 63971 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T13:16:31.705+02:00  INFO 63971 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T13:16:32.019+02:00  INFO 63971 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T13:16:32.024+02:00 DEBUG 63971 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:16:32.027+02:00 DEBUG 63971 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T13:16:32.032+02:00  INFO 63971 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:16:32.143+02:00  WARN 63971 --- [ProductManagement] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'patientController' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/controller/PatientController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'entityMapper' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/mapper/EntityMapper.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-10-20T13:16:32.143+02:00  INFO 63971 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:16:32.143+02:00 DEBUG 63971 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:16:32.145+02:00  INFO 63971 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:16:32.146+02:00  INFO 63971 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T13:16:32.146+02:00  INFO 63971 --- [ProductManagement] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-10-20T13:16:32.151+02:00  INFO 63971 --- [ProductManagement] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-20T13:16:32.157+02:00 ERROR 63971 --- [ProductManagement] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in md.practice.projects.dentalclinicmanagement.mapper.EntityMapper required a bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' that could not be found.


Action:

Consider defining a bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' in your configuration.

2025-10-20T13:16:56.124+02:00  INFO 63996 --- [ProductManagement] [main] .p.p.d.PatientManagementApplicationTests : Starting PatientManagementApplicationTests using Java 21.0.8 with PID 63996 (started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T13:16:56.125+02:00  INFO 63996 --- [ProductManagement] [main] .p.p.d.PatientManagementApplicationTests : No active profile set, falling back to 1 default profile: "default"
2025-10-20T13:16:56.140+02:00 DEBUG 63996 --- [ProductManagement] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@253c1256
2025-10-20T13:16:56.386+02:00  INFO 63996 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T13:16:56.412+02:00  INFO 63996 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 1 JPA repository interface.
2025-10-20T13:16:56.552+02:00  INFO 63996 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T13:16:56.638+02:00  INFO 63996 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:089122a6-6705-43ac-8dd2-b8516beabed1 user=SA
2025-10-20T13:16:56.639+02:00  INFO 63996 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T13:16:56.660+02:00  INFO 63996 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T13:16:56.689+02:00  INFO 63996 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T13:16:56.704+02:00  INFO 63996 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T13:16:56.820+02:00  INFO 63996 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T13:16:56.860+02:00  INFO 63996 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T13:16:57.197+02:00  INFO 63996 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T13:16:57.202+02:00 DEBUG 63996 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:16:57.205+02:00 DEBUG 63996 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T13:16:57.211+02:00  INFO 63996 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:16:57.327+02:00  WARN 63996 --- [ProductManagement] [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'patientController' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/controller/PatientController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'entityMapper' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/mapper/EntityMapper.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-10-20T13:16:57.327+02:00  INFO 63996 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:16:57.327+02:00 DEBUG 63996 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:16:57.329+02:00  INFO 63996 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:16:57.330+02:00  INFO 63996 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T13:16:57.342+02:00  INFO 63996 --- [ProductManagement] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-20T13:16:57.355+02:00 ERROR 63996 --- [ProductManagement] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in md.practice.projects.dentalclinicmanagement.mapper.EntityMapper required a bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' that could not be found.


Action:

Consider defining a bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' in your configuration.

2025-10-20T13:16:57.357+02:00  WARN 63996 --- [ProductManagement] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [md.practice.projects.dentalclinicmanagement.PatientManagementApplicationTests@445b4594]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@24bdd996 testClass = md.practice.projects.dentalclinicmanagement.PatientManagementApplicationTests, locations = [], classes = [md.practice.projects.dentalclinicmanagement.DentalClinicManagementApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7eecb5b8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c7bfdc1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@d2de489, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@45385f75, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69ee81fc, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@41f69e84, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@e094b0af], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159) ~[spring-test-6.2.11.jar:6.2.11]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.4.jar:3.5.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'patientController' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/controller/PatientController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'entityMapper' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/mapper/EntityMapper.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.6.jar:3.5.6]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563) ~[spring-boot-test-3.5.6.jar:3.5.6]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.6.jar:3.5.6]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110) ~[spring-boot-test-3.5.6.jar:3.5.6]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.11.jar:6.2.11]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityMapper' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/mapper/EntityMapper.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.11.jar:6.2.11]
	... 106 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2303) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1723) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.11.jar:6.2.11]
	... 119 common frames omitted

2025-10-20T13:17:24.755+02:00  INFO 64015 --- [ProductManagement] [main] .p.p.d.PatientManagementApplicationTests : Starting PatientManagementApplicationTests using Java 21.0.8 with PID 64015 (started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T13:17:24.756+02:00  INFO 64015 --- [ProductManagement] [main] .p.p.d.PatientManagementApplicationTests : No active profile set, falling back to 1 default profile: "default"
2025-10-20T13:17:24.772+02:00 DEBUG 64015 --- [ProductManagement] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@253c1256
2025-10-20T13:17:25.013+02:00  INFO 64015 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T13:17:25.039+02:00  INFO 64015 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 1 JPA repository interface.
2025-10-20T13:17:25.167+02:00  INFO 64015 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T13:17:25.251+02:00  INFO 64015 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:31a64ae8-4591-4fec-8e87-0c0fc62e0eae user=SA
2025-10-20T13:17:25.252+02:00  INFO 64015 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T13:17:25.272+02:00  INFO 64015 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T13:17:25.301+02:00  INFO 64015 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T13:17:25.316+02:00  INFO 64015 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T13:17:25.433+02:00  INFO 64015 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T13:17:25.469+02:00  INFO 64015 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T13:17:25.793+02:00  INFO 64015 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T13:17:25.799+02:00 DEBUG 64015 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:17:25.802+02:00 DEBUG 64015 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T13:17:25.807+02:00  INFO 64015 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:17:25.924+02:00  WARN 64015 --- [ProductManagement] [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'patientController' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/controller/PatientController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'entityMapper' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/mapper/EntityMapper.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-10-20T13:17:25.924+02:00  INFO 64015 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:17:25.924+02:00 DEBUG 64015 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:17:25.925+02:00  INFO 64015 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:17:25.926+02:00  INFO 64015 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-20T13:17:25.938+02:00  INFO 64015 --- [ProductManagement] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-20T13:17:25.946+02:00 ERROR 64015 --- [ProductManagement] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in md.practice.projects.dentalclinicmanagement.mapper.EntityMapper required a bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' that could not be found.


Action:

Consider defining a bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' in your configuration.

2025-10-20T13:17:25.949+02:00  WARN 64015 --- [ProductManagement] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [md.practice.projects.dentalclinicmanagement.PatientManagementApplicationTests@f2b4303]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@71689ee2 testClass = md.practice.projects.dentalclinicmanagement.PatientManagementApplicationTests, locations = [], classes = [md.practice.projects.dentalclinicmanagement.DentalClinicManagementApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7eecb5b8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c7bfdc1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@d2de489, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@45385f75, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@69ee81fc, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@41f69e84, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@e094b0af], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159) ~[spring-test-6.2.11.jar:6.2.11]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136) ~[surefire-junit-platform-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.4.jar:3.5.4]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.4.jar:3.5.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'patientController' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/controller/PatientController.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'entityMapper' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/mapper/EntityMapper.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.11.jar:6.2.11]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.6.jar:3.5.6]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.11.jar:6.2.11]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.5.6.jar:3.5.6]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563) ~[spring-boot-test-3.5.6.jar:3.5.6]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.6.jar:3.5.6]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110) ~[spring-boot-test-3.5.6.jar:3.5.6]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.11.jar:6.2.11]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.11.jar:6.2.11]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityMapper' defined in file [/Users/madrobnjak/IdeaProjects/ProductManagement/target/classes/md/practice/projects/dentalclinicmanagement/mapper/EntityMapper.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.11.jar:6.2.11]
	... 106 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'md.practice.projects.dentalclinicmanagement.validation.JmbgValidator' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2303) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1723) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.11.jar:6.2.11]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.11.jar:6.2.11]
	... 119 common frames omitted

2025-10-20T13:19:35.420+02:00  INFO 64066 --- [ProductManagement] [main] .p.p.d.PatientManagementApplicationTests : Starting PatientManagementApplicationTests using Java 21.0.8 with PID 64066 (started by madrobnjak in /Users/madrobnjak/IdeaProjects/ProductManagement)
2025-10-20T13:19:35.421+02:00  INFO 64066 --- [ProductManagement] [main] .p.p.d.PatientManagementApplicationTests : No active profile set, falling back to 1 default profile: "default"
2025-10-20T13:19:35.437+02:00 DEBUG 64066 --- [ProductManagement] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@253c1256
2025-10-20T13:19:35.684+02:00  INFO 64066 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-20T13:19:35.712+02:00  INFO 64066 --- [ProductManagement] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 1 JPA repository interface.
2025-10-20T13:19:35.849+02:00  INFO 64066 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-20T13:19:35.934+02:00  INFO 64066 --- [ProductManagement] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:c7b7409d-62bf-4ef1-be6d-8ed0b22ba1f6 user=SA
2025-10-20T13:19:35.935+02:00  INFO 64066 --- [ProductManagement] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-20T13:19:35.954+02:00  INFO 64066 --- [ProductManagement] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-20T13:19:35.982+02:00  INFO 64066 --- [ProductManagement] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.29.Final
2025-10-20T13:19:35.997+02:00  INFO 64066 --- [ProductManagement] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-20T13:19:36.107+02:00  INFO 64066 --- [ProductManagement] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-20T13:19:36.141+02:00  INFO 64066 --- [ProductManagement] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-10-20T13:19:36.470+02:00  INFO 64066 --- [ProductManagement] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-20T13:19:36.476+02:00 DEBUG 64066 --- [ProductManagement] [main] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:19:36.480+02:00 DEBUG 64066 --- [ProductManagement] [main] org.hibernate.SQL                        : create table patients (date_of_birth date not null, id bigint generated by default as identity, jmbg bigint unique, medical_history varchar(1000), address varchar(255), email varchar(255) not null unique, first_name varchar(255) not null, last_name varchar(255) not null, phone varchar(255) not null, primary key (id))
2025-10-20T13:19:36.486+02:00  INFO 64066 --- [ProductManagement] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:19:36.649+02:00  WARN 64066 --- [ProductManagement] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-20T13:19:36.685+02:00 DEBUG 64066 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 4 mappings in 'requestMappingHandlerMapping'
2025-10-20T13:19:36.734+02:00 DEBUG 64066 --- [ProductManagement] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-10-20T13:19:36.744+02:00 DEBUG 64066 --- [ProductManagement] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-10-20T13:19:36.766+02:00 DEBUG 64066 --- [ProductManagement] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-10-20T13:19:36.802+02:00  INFO 64066 --- [ProductManagement] [main] .p.p.d.PatientManagementApplicationTests : Started PatientManagementApplicationTests in 1.519 seconds (process running for 1.924)
2025-10-20T13:19:37.088+02:00 DEBUG 64066 --- [ProductManagement] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@253c1256, started on Mon Oct 20 13:19:35 CEST 2025
2025-10-20T13:19:37.089+02:00  INFO 64066 --- [ProductManagement] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-20T13:19:37.090+02:00 DEBUG 64066 --- [ProductManagement] [SpringApplicationShutdownHook] org.hibernate.SQL                        : drop table if exists patients cascade 
2025-10-20T13:19:37.091+02:00  INFO 64066 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-20T13:19:37.092+02:00  INFO 64066 --- [ProductManagement] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
